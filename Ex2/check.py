import pacman
import random
import ex2
import time

def evaluate(board, steps, p = 0.7):    
    """Run solver function on given problem and evaluate it's effectiveness."""
    run_pacman = pacman.Game(steps, board) 

    t1 = time.time()
    controller = ex2.Controller(len(board), len(board[0]), run_pacman.init_locations.copy(), 
                        run_pacman.init_pellets.copy(), steps)
    t2 = time.time()
    
    print("Controller initialization took: ", t2 - t1, " seconds.\n")
    
    t3 = time.time()
    print("The average score for the problem is:", 
        run_pacman.evaluate_policy(controller, p, 30, visualize=False))
    t4 = time.time()
    print("Controller evaluation took: ", t4 - t3, " seconds")

def main():
    """Print student id and run evaluation on a given game"""
    print("\n", ex2.id)
    
    game0 = ((20,10,10,10,10),
             (10,10,10,10,41),
             (10,11,10,10,11),
             (10,11,10,10,10),
             (70,10,10,10,11))

    game1 = ((20,10,10,10,10),
             (10,10,10,10,41),
             (10,11,10,10,11),
             (70,10,10,10,11))

    game2 = ((20,10,10,10),
             (10,11,10,10),
             (70,10,10,11))

    game3 = ((20,10,10,10,10),
             (10,10,10,10,41),
             (10,11,10,10,11),
             (10,11,10,10,10),
             (70,10,10,10,11))

    game4 = ((20,10,10,10,10),
             (10,10,10,10,41),
             (10,11,10,10,11),
             (70,10,10,10,11))

    game5 = ((20,10,10,10),
             (10,11,10,10),
             (70,10,10,11))

    game6 = ((20,10,10,10,10),
             (10,10,10,10,41),
             (10,11,10,10,11),
             (10,11,10,10,10),
             (70,10,10,10,11))

    game7 = ((20,10,10,10,10),
             (10,10,10,10,41),
             (10,11,10,10,11),
             (70,10,10,10,11))

    game8 = ((20,10,10,10),
             (10,11,10,10),
             (70,10,10,11))

    game9 = ((20,10,10,10,10),
             (10,10,10,10,41),
             (10,11,10,10,11),
             (10,11,10,10,10),
             (70,10,10,10,11))

    game10 = ((20,10,10,10,10),
              (10,10,10,10,41),
              (10,11,10,10,11),
              (10,11,10,10,10),
              (70,10,10,10,11))

    game11 = ((20,10,10,10),
              (10,11,10,10),
              (70,10,10,11))

    game12 = ((20,10,10,10,10),
              (10,10,10,10,41),
              (10,11,10,10,11),
              (10,11,10,10,10),
              (70,10,10,10,11))

    game13 = ((20,10,10,10,10),
              (10,10,10,10,41),
              (10,11,10,10,11),
              (70,10,10,10,11))

    game14 = ((20,10,10,10),
              (10,11,10,10),
              (70,10,10,11))

    game15 = ((20,10,10,10,10),
              (10,10,10,10,41),
              (10,11,10,10,11),
              (10,11,10,10,10),
              (70,10,10,10,11))

    game16 = ((20,10,10,10,10),
              (10,10,10,10,41),
              (10,11,10,10,11),
              (70,10,10,10,11))

    game17 = ((20,10,10,10),
              (10,11,70,10),
              (10,10,10,11))

    game18 = ((20,10,10,10,10),
              (10,10,10,10,41),
              (10,11,10,10,11),
              (10,11,10,10,10),
              (70,10,10,10,11))
    game19 = ((70, 10, 10, 10, 10, 10, 10, 10, 10, 10),
                (10, 11, 10, 10, 10, 10, 10, 10, 10, 10),
                (10, 10, 10, 10, 10, 10, 10, 10, 10, 10),
                (10, 10, 10, 41, 10, 10, 11, 10, 10, 10),
                (10, 10, 10, 10, 10, 10, 10, 10, 10, 10),
                (10, 10, 10, 10, 10, 10, 10, 10, 10, 10),
                (10, 20, 10, 10, 11, 10, 10, 10, 20, 10),
                (10, 10, 10, 10, 10, 10, 10, 10, 10, 10),
                (10, 10, 10, 10, 10, 30, 10, 10, 10, 10),
                (10, 10, 10, 10, 10, 10, 10, 10, 10, 10))

    
    evaluate(game0, 100, 0.7)   


if __name__ == '__main__':
    main()
    

